var Ue=Object.defineProperty,qe=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var le=(r,e,i)=>e in r?Ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i,S=(r,e)=>{for(var i in e||(e={}))Ae.call(e,i)&&le(r,i,e[i]);if(te)for(var i of te(e))be.call(e,i)&&le(r,i,e[i]);return r},J=(r,e)=>qe(r,Be(e));var Ce=(r,e)=>{var i={};for(var o in r)Ae.call(r,o)&&e.indexOf(o)<0&&(i[o]=r[o]);if(r!=null&&te)for(var o of te(r))e.indexOf(o)<0&&be.call(r,o)&&(i[o]=r[o]);return i};var l=(r,e,i)=>(le(r,typeof e!="symbol"?e+"":e,i),i);import{a as k,t as Se,m as K,r as me,f as U,b as m,H as Oe,L as je,c as b,o as y,j as t,M as E,d as a,C as oe,N as ie,B as u,I as H,D as re,e as F,F as T,g,h as Ve,R as ce,i as D,k as R,l as he,P as V,S as p,n as $,p as C,q as N,G as d,s as We,u as pe,v as ne,w as ae,x as de,y as _,z as Z,A as M,E as Q,J as Te,K as Ke,W as Je,O as Ye,Q as fe,T as _e,U as Ze,V as Qe,X as B,Y as Xe,Z as Pe,_ as W,$ as et,a0 as tt,a1 as xe,a2 as ue,a3 as G,a4 as it,a5 as Ne,a6 as rt,a7 as ot,a8 as nt,a9 as at,aa as st}from"./vendor.b9722157.js";const lt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}};lt();class ct{constructor(e,i){l(this,"data");l(this,"pagination");this.data=e,this.pagination=i}}class ge{constructor(e=1,i=2){l(this,"pageNumber");l(this,"pageSize");this.pageNumber=e,this.pageSize=i}}k.defaults.baseURL="http:/api";k.interceptors.request.use(r=>{const e=v.commonStore.token;return e&&(r.headers.Authorization=`Bearer ${e}`),r});k.interceptors.response.use(async r=>{const e=r.headers.pagination;return e&&(r.data=new ct(r.data,JSON.parse(e))),r},r=>{const{data:e,status:i,config:o}=r.response;switch(i){case 400:if(typeof e=="string"&&Se.error(e),o.method==="get"&&e.errors.hasOwnProperty("id")&&O.push("/not-found"),e.errors){const n=[];for(const s in e.errors)e.errors[s]&&n.push(e.errors[s]);throw n.flat()}break;case 401:Se.error("Unauthorised");break;case 404:O.push("not-found");break;case 500:v.commonStore.setServerError(e),O.push("server-error");break}return Promise.reject(r)});const Y=r=>r.data,I={get:r=>k.get(r).then(Y),post:(r,e)=>k.post(r,e).then(Y),put:(r,e)=>k.put(r,e).then(Y),del:r=>k.delete(r).then(Y)},dt={list:r=>k.get("/activities",{params:r}).then(Y),details:r=>I.get(`/activities/${r}`),create:r=>I.post("/activities",r),update:r=>I.put(`/activities/${r.id}`,r),delete:r=>I.del(`/activities/${r}`),attend:r=>I.post(`/activities/${r}/attend`,{})},ut={current:()=>I.get("/account"),login:r=>I.post("/account/login",r),register:r=>I.post("/account/register",r)},ht={get:r=>I.get(`/profile/${r}`),uploadPhoto:r=>{let e=new FormData;return e.append("File",r),k.post("photos",e,{headers:{"Content-type":"multipart/form-data"}})},setMainPhoto:r=>I.post(`/photos/${r}/setMain`,{}),deletePhoto:r=>I.del(`/photos/${r}`),updateProfile:r=>I.put("/profile",r),updateFollowing:r=>I.post(`/follow/${r}`,{}),listFollowing:(r,e)=>I.get(`/follow/${r}?predicate=${e}`),listActivities:(r,e)=>I.get(`/profile/${r}/activities?predicate=${e}`)},P={Activities:dt,Account:ut,Profiles:ht};class Ie{constructor(e){Object.assign(this,e)}}class ke{constructor(e){l(this,"id");l(this,"title","");l(this,"category","");l(this,"description","");l(this,"date",null);l(this,"city","");l(this,"venue","");e&&(this.id=e.id,this.title=e.title,this.category=e.category,this.description=e.description,this.date=e.date,this.city=e.city,this.venue=e.venue)}}class Me{constructor(e){this.username=e.username,this.displayName=e.displayName,this.image=e.image}}class gt{constructor(){l(this,"activityRegistry",new Map);l(this,"selectedActivity");l(this,"editMode",!1);l(this,"loading",!1);l(this,"loadingInitial",!1);l(this,"pagination",null);l(this,"pagingParams",new ge);l(this,"predicate",new Map().set("all",!0));l(this,"setPagingParams",e=>{this.pagingParams=e});l(this,"setPredicate",(e,i)=>{const o=()=>{this.predicate.forEach((n,s)=>{s!=="startDate"&&this.predicate.delete(s)})};switch(e){case"all":o(),this.predicate.set("all",!0);break;case"isGoing":o(),this.predicate.set("isGoing",!0);break;case"isHost":o(),this.predicate.set("isHost",!0);break;case"startDate":this.predicate.delete("startDate"),this.predicate.set("startDate",i)}});l(this,"loadActivities",async()=>{this.loadingInitial=!0;try{const e=await P.Activities.list(this.axiosParams);e.data.forEach(i=>{this.setActivity(i)}),this.setPagination(e.pagination),this.setLoadingInitial(!1)}catch(e){console.log(e),this.setLoadingInitial(!1)}});l(this,"setPagination",e=>{this.pagination=e});l(this,"loadActivity",async e=>{let i=this.getActivity(e);if(i)return this.selectedActivity=i,i;this.loadingInitial=!0;try{return i=await P.Activities.details(e),this.setActivity(i),this.selectedActivity=i,this.setLoadingInitial(!1),i}catch(o){console.log(o),this.setLoadingInitial(!1)}});l(this,"setActivity",e=>{var o;const i=v.userStore.user;i&&(e.isGoing=e.attendees.some(n=>n.username===i.username),e.isHost=e.hostUsername===i.username,e.host=(o=e.attendees)==null?void 0:o.find(n=>n.username===e.hostUsername)),e.date=new Date(e.date),this.activityRegistry.set(e.id,e)});l(this,"getActivity",e=>this.activityRegistry.get(e));l(this,"setLoadingInitial",e=>{this.loadingInitial=e});l(this,"createActivity",async e=>{const i=v.userStore.user,o=new Me(i);try{await P.Activities.create(e);const n=new Ie(e);n.hostUsername=i.username,n.attendees=[o],this.setActivity(n),m(()=>{this.selectedActivity=new Ie})}catch(n){console.log(n),m(()=>this.loading=!1)}});l(this,"updateActivity",async e=>{try{await P.Activities.update(e),m(()=>{if(e.id){let i=S(S({},this.getActivity(e.id)),e);this.activityRegistry.set(e.id,i),this.selectedActivity=i}})}catch(i){console.log(i)}});l(this,"deleteActivity",async e=>{this.loading=!0;try{await P.Activities.delete(e),m(()=>{this.activityRegistry.delete(e),this.loading=!1})}catch(i){console.log(i),m(()=>{this.loading=!1})}});l(this,"updateAttendence",async()=>{const e=v.userStore.user;this.loading=!0;try{await P.Activities.attend(this.selectedActivity.id),m(()=>{var i,o,n,s;if((i=this.selectedActivity)!=null&&i.isGoing)this.selectedActivity.attendees=(o=this.selectedActivity.attendees)==null?void 0:o.filter(c=>c.username!==(e==null?void 0:e.username)),this.selectedActivity.isGoing=!1;else{const c=new Me(e);(s=(n=this.selectedActivity)==null?void 0:n.attendees)==null||s.push(c),this.selectedActivity.isGoing=!0}this.activityRegistry.set(this.selectedActivity.id,this.selectedActivity)})}catch(i){console.log(i)}finally{m(()=>this.loading=!1)}});l(this,"cancelActivityToggle",async()=>{this.loading=!0;try{await P.Activities.attend(this.selectedActivity.id),m(()=>{var e;this.selectedActivity.isCancelled=!((e=this.selectedActivity)!=null&&e.isCancelled),this.activityRegistry.set(this.selectedActivity.id,this.selectedActivity)})}catch(e){console.log(e)}finally{m(()=>this.loading=!1)}});l(this,"clearSelectedActivity",()=>{this.selectedActivity=void 0});l(this,"updateAttendeeFollowing",e=>{this.activityRegistry.forEach(i=>{i.attendees.forEach(o=>{o.username===e&&(o.following?o.followersCount--:o.followersCount++,o.following=!o.following)})})});K(this),me(()=>this.predicate.keys(),()=>{this.pagingParams=new ge,this.activityRegistry.clear(),this.loadActivities()})}get axiosParams(){const e=new URLSearchParams;return e.append("pageNumber",this.pagingParams.pageNumber.toString()),e.append("pageSize",this.pagingParams.pageSize.toString()),this.predicate.forEach((i,o)=>{o==="startDate"?e.append(o,i.toISOString()):e.append(o,i)}),e}get activitiesByDate(){return Array.from(this.activityRegistry.values()).sort((e,i)=>e.date.getTime()-i.date.getTime())}get groupedActivities(){return Object.entries(this.activitiesByDate.reduce((e,i)=>{const o=U(i.date,"dd / MMMM / yyyy");return e[o]=e[o]?[...e[o],i]:[i],e},{}))}}class mt{constructor(){l(this,"comments",[]);l(this,"hubConnection",null);l(this,"createHubConnection",e=>{v.activityStore.selectedActivity&&(this.hubConnection=new Oe().withUrl("http:/chat?activityId="+e,{accessTokenFactory:()=>{var i;return(i=v.userStore.user)==null?void 0:i.token}}).withAutomaticReconnect().configureLogging(je.Information).build(),this.hubConnection.start().catch(i=>console.log("Error establishing the connection: ",i)),this.hubConnection.on("LoadComments",i=>{m(()=>{i.forEach(o=>{o.createdAt=new Date(o.createdAt+"Z")}),this.comments=i})}),this.hubConnection.on("ReceiveComment",i=>{m(()=>{i.createdAt=new Date(i.createdAt),this.comments.unshift(i)})}))});l(this,"stopHubConnection",()=>{var e;(e=this.hubConnection)==null||e.stop().catch(i=>console.log("Error stopping connection: ",i))});l(this,"clearComments",()=>{this.comments=[],this.stopHubConnection()});l(this,"addComment",async e=>{var i,o;e.activityId=(i=v.activityStore.selectedActivity)==null?void 0:i.id;try{await((o=this.hubConnection)==null?void 0:o.invoke("SendComment",e))}catch(n){console.log(n)}});K(this)}}class pt{constructor(){l(this,"error",null);l(this,"token",window.localStorage.getItem("jwt"));l(this,"appLoaded",!1);l(this,"setServerError",e=>{this.error=e});l(this,"setToken",e=>{this.token=e});l(this,"setAppLoaded",()=>{this.appLoaded=!0});K(this),me(()=>this.token,e=>{e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")})}}class ft{constructor(){l(this,"modal",{open:!1,body:null});l(this,"openModal",e=>{this.modal.open=!0,this.modal.body=e});l(this,"closeModal",()=>{this.modal.open=!1,this.modal.body=null});K(this)}}class yt{constructor(){l(this,"profile",null);l(this,"loadingProfile",!1);l(this,"uploading",!1);l(this,"loading",!1);l(this,"followings",[]);l(this,"loadingFollowings",!1);l(this,"activeTab",0);l(this,"userActivities",[]);l(this,"loadingActivities",!1);l(this,"setActiveTab",e=>{this.activeTab=e});l(this,"loadProfile",async e=>{this.loadingProfile=!0;try{const i=await P.Profiles.get(e);m(()=>{this.profile=i,this.loadingProfile=!1})}catch(i){console.log(i),m(()=>this.loadingProfile=!1)}});l(this,"updloadPhoto",async e=>{this.uploading=!0;try{const o=(await P.Profiles.uploadPhoto(e)).data;m(()=>{var n;this.profile&&((n=this.profile.photos)==null||n.push(o),o.isMain&&v.userStore.user&&(v.userStore.setImage(o.url),this.profile.image=o.url)),this.uploading=!1})}catch(i){console.log(i),m(()=>this.uploading=!1)}});l(this,"setMainPhoto",async e=>{this.loading=!0;try{await P.Profiles.setMainPhoto(e.id),v.userStore.setImage(e.url),m(()=>{this.profile&&this.profile.photos&&(this.profile.photos.find(i=>i.isMain).isMain=!1,this.profile.photos.find(i=>i.id==e.id).isMain=!0,this.profile.image=e.url,this.loading=!1)})}catch(i){m(()=>this.loading=!1),console.log(i)}});l(this,"deletePhoto",async e=>{this.loading=!0;try{await P.Profiles.deletePhoto(e.id),m(()=>{var i;this.profile&&(this.profile.photos=(i=this.profile.photos)==null?void 0:i.filter(o=>o.id!==e.id),this.loading=!1)})}catch(i){m(()=>this.loading=!1),console.log(i)}});l(this,"updateProfile",async e=>{this.loading=!0;try{await P.Profiles.updateProfile(e),m(()=>{var i;e.displayName&&e.displayName!==((i=v.userStore.user)==null?void 0:i.displayName)&&v.userStore.setDisplayName(e.displayName),this.profile=S(S({},this.profile),e),this.loading=!1})}catch(i){console.log(i),m(()=>this.loading=!1)}});l(this,"updateFollowing",async(e,i)=>{this.loading=!0;try{await P.Profiles.updateFollowing(e),v.activityStore.updateAttendeeFollowing(e),m(()=>{var o,n;this.profile&&this.profile.username!==((o=v.userStore.user)==null?void 0:o.username)&&this.profile.username!==e&&(i?this.profile.followersCount++:this.profile.followersCount--,this.profile.following=!this.profile.following),this.profile&&this.profile.username===((n=v.userStore.user)==null?void 0:n.username)&&(i?this.profile.followingCount++:this.profile.followingCount--),this.followings.forEach(s=>{s.username==e&&(s.following?s.followersCount--:s.followersCount++,s.following=!s.following)}),this.loading=!1})}catch(o){console.log(o),m(()=>this.loading=!1)}});l(this,"loadFollowings",async e=>{this.loadingFollowings=!0;try{const i=await P.Profiles.listFollowing(this.profile.username,e);m(()=>{this.followings=i,this.loadingFollowings=!1})}catch(i){m(()=>this.loadingFollowings=!1),console.log(i)}});l(this,"loadUserActivities",async(e,i)=>{this.loadingActivities=!0;try{const o=await P.Profiles.listActivities(e,i);m(()=>{this.userActivities=o,this.loadingActivities=!1})}catch(o){console.log(o),m(()=>{this.loadingActivities=!1})}});K(this),me(()=>this.activeTab,e=>{if(e===3||e===4){const i=e===3?"followers":"following";this.loadFollowings(i)}else this.followings=[]})}get isCurrentUser(){return v.userStore.user&&this.profile?v.userStore.user.username===this.profile.username:!1}}class vt{constructor(){l(this,"user",null);l(this,"login",async e=>{try{const i=await P.Account.login(e);v.commonStore.setToken(i.token),m(()=>this.user=i),O.push("/activities"),v.modalStore.closeModal()}catch(i){throw i}});l(this,"logout",()=>{v.commonStore.setToken(null),window.localStorage.removeItem("jwt"),this.user=null,O.push("/")});l(this,"getUser",async()=>{try{const e=await P.Account.current();m(()=>this.user=e)}catch(e){console.log(e)}});l(this,"register",async e=>{try{const i=await P.Account.register(e);v.commonStore.setToken(i.token),m(()=>this.user=i),O.push("/activities"),v.modalStore.closeModal()}catch(i){throw i}});l(this,"setImage",e=>{this.user&&(this.user.image=e)});l(this,"setDisplayName",e=>{this.user&&(this.user.displayName=e)});K(this)}get IsLoggedIn(){return!!this.user}}const v={activityStore:new gt,commonStore:new pt,userStore:new vt,modalStore:new ft,profileStore:new yt,commentStore:new mt},Ee=b.exports.createContext(v);function A(){return b.exports.useContext(Ee)}var wt=y(function(){const{userStore:{user:e,logout:i}}=A();return t(E,{inverted:!0,fixed:"top",children:a(oe,{children:[a(E.Item,{as:ie,to:"/",exact:!0,header:!0,children:[t("img",{src:"/assets/icon.png",alt:"logo",style:{marginRight:"1vw"}}),"Sunflower"]}),t(E.Item,{as:ie,to:"/activities",name:"Activities"}),t(E.Item,{as:ie,to:"/errors",name:"Errors"}),t(E.Item,{children:t(u,{as:ie,to:"/createActivity",positive:!0,content:"Crete Activity"})}),a(E.Item,{position:"right",children:[t(H,{src:(e==null?void 0:e.image)||"/assets/user.png",avatar:!0,spaced:"right"}),t(re,{pointing:"top left",text:e==null?void 0:e.displayName,style:{fontWeight:"900"},children:a(re.Menu,{children:[t(re.Item,{as:F,to:`/profile/${e==null?void 0:e.username}`,text:"My Profile",icon:"user circle"}),t(re.Item,{onClick:i,text:"Logout",icon:"power off"})]})})]})]})})}),At=y(function(){const{activityStore:{predicate:e,setPredicate:i}}=A();return a(T,{children:[a(E,{vertical:!0,size:"large",style:{width:"100%",marginTop:28},children:[t(g,{icon:"filter",attached:!0,color:"teal",content:"Filters"}),t(E.Item,{content:"All Activities",active:e.has("all"),onClick:()=>i("all","true")}),t(E.Item,{content:"I'm going",active:e.has("isGoing"),onClick:()=>i("isGoing","true")}),t(E.Item,{content:"I'm hosting",active:e.has("isHost"),onClick:()=>i("isHost","true")})]}),t(g,{}),t(Ve,{onChange:o=>i("startDate",o),value:e.get("startDate")})]})}),Re=y(function({profile:e}){var f;const{profileStore:i,userStore:o}=A(),{updateFollowing:n,loading:s}=i;function c(h,w){h.preventDefault(),e.following?n(w,!1):n(w,!0)}return((f=o.user)==null?void 0:f.username)===e.username?null:a(ce,{animated:"move",style:{margin:"5px"},children:[t(ce.Content,{visible:!0,style:{width:"100%"},children:t(u,{fluid:!0,color:"teal",content:e.following?"Following":"Not following"})}),t(ce.Content,{hidden:!0,style:{width:"100%"},children:t(u,{fluid:!0,color:e.following?"red":"green",content:e.following?"Unfollow":"Follow",loading:s,onClick:h=>c(h,e.username)})})]})});function bt(r){if(r)return r.length>20?r.substring(0,15)+"...":r}var ye=y(function({profile:e}){return a(D,{as:F,to:`/profile/${e.username}`,style:{width:"10vw"},children:[t(H,{src:e.image||"assets/user.png"}),a(D.Content,{children:[t(D.Header,{children:e.displayName}),t(D.Description,{children:bt(e.bio)})]}),a(D.Content,{extra:!0,children:[t(R,{name:"user"}),e.followersCount," followers"]}),t(Re,{profile:e})]})}),Ct=y(function({attendees:e}){const i={borderColor:"green",borderWidth:2};return t(he,{horizontal:!0,children:e.map(o=>t(V,{hoverable:!0,position:"top center",trigger:t(he.Item,{as:F,to:`/profile/${o.username}`,children:t(H,{size:"mini",circular:!0,src:o.image||"/assets/user.png",bordered:!0,style:o.following?i:null})},o.username),children:t(V.Content,{children:t(ye,{profile:o})})},o.username))})});function St({activity:r,attendees:e}){var i,o,n;return a(p.Group,{children:[a(p,{children:[r.isCancelled&&t($,{attached:"top",color:"red",content:"Cancelled",style:{textAlign:"center"}}),t(C.Group,{children:a(C,{children:[t(C.Image,{size:"tiny",circular:!0,src:((i=r.host)==null?void 0:i.image)||"/assets/user.png"}),a(C.Content,{children:[r.isHost&&t(C.Description,{style:{position:"relative"},children:t($,{color:"yellow",ribbon:"right",style:{position:"absolute"},children:"You are hosting"})}),!r.isHost&&r.isGoing&&t(C.Description,{style:{position:"relative"},children:t($,{color:"green",ribbon:"right",style:{position:"absolute"},children:"You are going"})}),t(C.Header,{as:F,to:`/activities/${r.id}`,style:{marginTop:"2.5vh"},children:r.title}),a(C.Description,{children:["Hosted by ",a(F,{to:`/profile/${(o=r.host)==null?void 0:o.username}`,children:[" ",(n=r.host)==null?void 0:n.username]})]})]})]})})]}),t(p,{children:a("span",{children:[t(R,{name:"calendar outline"})," ",U(r.date,"dd / MMMM / yyyy "),t(R,{name:"clock outline",style:{marginLeft:"1vw"}})," ",U(r.date,"h:mm aa"),t(R,{name:"map marker alternate",style:{marginLeft:"1vw"}})," ",r.venue]})}),t(p,{secondary:!0,id:"attendee-back",children:t(Ct,{attendees:r.attendees})}),a(p,{clearing:!0,children:[t("span",{children:r.description}),t(u,{as:F,to:`/activities/${r.id}`,color:"teal",floated:"right",content:"View"})]})]})}var Pt=y(function(){const{activityStore:e}=A(),{groupedActivities:i}=e;return t(T,{children:i.map(([o,n])=>a(b.exports.Fragment,{children:[t(g,{sub:!0,color:"teal",children:o}),n.map(s=>t(St,{activity:s,attendees:[]},s.id))]},o))})});function Fe(){return t(b.exports.Fragment,{children:t(N,{fluid:!0,style:{marginTop:25},children:a(p.Group,{children:[t(p,{style:{minHeight:110},children:a(N,{children:[a(N.Header,{image:!0,children:[t(N.Line,{}),t(N.Line,{})]}),t(N.Paragraph,{children:t(N.Line,{})})]})}),t(p,{children:a(N,{children:[t(N.Line,{}),t(N.Line,{})]})}),t(p,{secondary:!0,style:{minHeight:70}}),t(p,{clearing:!0,children:t(u,{disabled:!0,color:"teal",floated:"right",content:"View"})})]})})})}var xt=y(function(){const{activityStore:e}=A(),{loadActivities:i,activityRegistry:o,setPagingParams:n,pagination:s}=e,[c,f]=b.exports.useState(!1);function h(){f(!0),n(new ge(s.currentPage+1)),i().then(()=>f(!1))}return b.exports.useEffect(()=>{o.size<=1&&e.loadActivities()},[e]),a(d,{children:[t(d.Column,{width:"10",children:e.loadingInitial&&!c?a(T,{children:[t(Fe,{}),t(Fe,{})]}):t(We,{pageStart:0,loadMore:h,hasMore:!c&&!!s&&s.currentPage<s.totalPages,initialLoad:!1,children:t(Pt,{})})}),t(d.Column,{width:"6",children:t(At,{})}),t(d.Column,{width:10,children:t(pe,{active:c})})]})});function z(r){const[e,i]=ne(r.name);return a(ae.Field,{error:i.touched&&!!i.error,children:[t("label",{children:r.label}),t("input",S(S({},e),r)),i.touched&&i.error?t($,{basic:!0,color:"red",children:i.error}):null]})}function ze({errors:r}){return t(de,{error:!0,children:r&&t(de.List,{children:r.map((e,i)=>t(de.Item,{children:e},i))})})}var $e=y(function(){const{userStore:e,modalStore:i}=A();return t(_,{initialValues:{displayName:"",username:"",email:"",password:"",error:null},onSubmit:(o,{setErrors:n})=>e.register(o).catch(s=>n({error:s})),validationSchema:Z({displayname:M().required(),username:M().required(),email:M().required().email(),password:M().required()}),children:({handleSubmit:o,isSubmitting:n,errors:s,isValid:c,dirty:f})=>a(Q,{className:"ui form error",onSubmit:o,autoComplete:"off",children:[a(g,{textAlign:"center",children:[t(H,{src:"/assets/logo.png",alt:"logo",style:{width:"80px",height:"80px",marginTop:"2vh"}}),t(g,{as:"h3",color:"black",style:{marginBottom:"3vh"},children:"Create a new Account"})]}),t(z,{name:"displayname",placeholder:"Display Name"}),t(z,{name:"username",placeholder:"Username"}),t(z,{name:"email",placeholder:"Email"}),t(z,{name:"password",placeholder:"Password",type:"password"}),t(Te,{name:"error",render:()=>t(ze,{errors:s.error})}),a(g,{align:"center",children:[t(u,{style:{marginTop:"4vh"},loading:n,positive:!0,content:"Register",type:"submit",color:"yellow",size:"large",disabled:!c||!f||n,fluid:!0}),t(g,{style:{marginTop:"3.5vh",marginBotom:"4vh",cursor:"pointer"},as:"h5",content:"Already have an Account",onClick:()=>i.openModal(t(He,{})),textAlign:"center",color:"yellow"})]})]})})}),He=y(function(){const{userStore:e,modalStore:i}=A();return t(_,{initialValues:{email:"",password:"",error:null},onSubmit:(o,{setErrors:n})=>e.login(o).catch(s=>n({error:"Invalid email or password"})),validationSchema:Z({email:M().required().email(),password:M().required()}),children:({handleSubmit:o,isSubmitting:n,errors:s,isValid:c,dirty:f})=>a(Q,{className:"ui form",onSubmit:o,autoComplete:"off",children:[a(g,{as:"h3",color:"black",textAlign:"center",children:[t(H,{src:"/assets/logo.png",alt:"logo",style:{marginBottom:"2vh",width:"80px",height:"80px",marginTop:"2vh"}}),t("br",{}),"Login in Activities"]}),t(z,{name:"email",placeholder:"Email"}),t(z,{name:"password",placeholder:"Password",type:"password"}),t(g,{align:"center",children:t(Te,{name:"error",render:()=>t($,{size:"medium",style:{marginTop:"0.5vh",marginBottom:"0.5vh",textAlign:"center",width:"80%"},basic:!0,color:"red",content:s.error})})}),a(g,{align:"center",children:[t(u,{style:{marginTop:"3vh"},loading:n,positive:!0,disabled:!c||!f||n,content:"Login",type:"submit",color:"yellow",size:"large",fluid:!0}),t(g,{style:{marginTop:"3.5vh",cursor:"pointer"},as:"h5",textAlign:"center",content:"Forget your Password",color:"yellow"}),t(u,{onClick:()=>i.openModal(t($e,{})),style:{marginTop:"2vh",marginBottom:"2vh",width:"12vw"},content:"Register",size:"large"})]})]})})});function It(){const{userStore:r,modalStore:e}=A();return t(p,{inverted:!0,textAlign:"center",vertical:!0,className:"masthead",children:a(oe,{text:!0,children:[a(g,{as:"h1",inverted:!0,children:[t(H,{src:"/assets/logo.png",alt:"logo",style:{marginBottom:12,width:"110px",height:"110px"}}),"Sunflower"]}),r.IsLoggedIn?a(T,{children:[t(g,{inverted:!0,as:"h2",content:"Welcome to Sunflower"}),t(u,{as:F,to:"/activities",size:"huge",style:{marginTop:"3vh"},inverted:!0,children:"Go to Activities"})]}):a(T,{children:[t(u,{onClick:()=>e.openModal(t(He,{})),size:"huge",style:{width:"10vw",marginTop:"3vh"},inverted:!0,children:"Login"}),t(u,{onClick:()=>e.openModal(t($e,{})),size:"huge",style:{width:"10vw"},inverted:!0,children:"Register"})]})]})})}function Ge(r){const[e,i]=ne(r.name);return a(ae.Field,{error:i.touched&&!!i.error,children:[t("label",{children:r.label}),t("textarea",S(S({},e),r)),i.touched&&i.error?t($,{basic:!0,color:"red",children:i.error}):null]})}function kt(r){const[e,i,o]=ne(r.name);return a(ae.Field,{error:i.touched&&!!i.error,children:[t("label",{children:r.label}),t(Ke,{clearable:!0,options:r.options,value:e.value||null,onChange:(n,s)=>o.setValue(s.value),onBlur:()=>o.setTouched(!0),placeholder:r.placeholder}),i.touched&&i.error?t($,{basic:!0,color:"red",children:i.error}):null]})}const Mt=[{text:"Drinks",value:"Drinks"},{text:"Culture",value:"Culture"},{text:"Film",value:"Film"},{text:"Music",value:"Music"},{text:"Travel",value:"Travel"},{text:"Cars",value:"Cars"},{text:"Nature",value:"Nature"},{text:"Default",value:"Default"}];function Ft(r){const[e,i,o]=ne(r.name);return a(ae.Field,{error:i.touched&&!!i.error,children:[t(Je,J(S(S({},e),r),{selected:e.value&&new Date(e.value)||null,onChange:n=>o.setValue(n)})),i.touched&&i.error?t($,{basic:!0,color:"red",children:i.error}):null]})}var Lt=y(function(){const e=Ye(),{activityStore:i}=A(),{createActivity:o,updateActivity:n,loadActivity:s}=i,{id:c}=fe(),[f,h]=b.exports.useState(new ke),w=Z({title:M().required("Title is required"),description:M().required("Description is required"),category:M().required("Category is required"),date:M().required("Date is required").nullable(),city:M().required("City is required"),venue:M().required("Venue is required")});b.exports.useEffect(()=>{c&&s(c).then(L=>h(new ke(L)))},[c,s]);function X(L){if(L.id)n(L).then(()=>e.push(`/activities/${L.id}`));else{let j=J(S({},L),{id:_e()});o(j).then(()=>e.push(`/activities/${j.id}`))}}return t("div",{style:{marginTop:"10vh"},children:a(p,{clearing:!0,children:[t(g,{content:"Activity Details",sub:!0,color:"teal"}),t(_,{validationSchema:w,enableReinitialize:!0,initialValues:f,onSubmit:L=>X(L),children:({handleSubmit:L,isValid:j,isSubmitting:ee,dirty:se})=>a(Q,{className:"ui form",onSubmit:L,autoComplete:"off",children:[t(z,{placeholder:"Title",name:"title"}),t(Ge,{rows:3,placeholder:"Description",name:"description"}),t(kt,{options:Mt,placeholder:"Category",name:"category"}),t(Ft,{placeholderText:"Date",name:"date",showTimeSelect:!0,timeCaption:"time",dateFormat:"MMMM, d ,yyyy  h: mm aa"}),t(g,{content:"Location Details",sub:!0,color:"teal"}),t(z,{placeholder:"City",name:"city"}),t(z,{placeholder:"Venue",name:"venue"}),t(u,{disabled:ee||!se||!j,loading:ee,floated:"right",positive:!0,type:"submit",content:"Submit"}),t(u,{as:F,to:"/activities",floated:"right",type:"button",content:"Cancel"})]})})]})})});function ve({inverted:r=!0,content:e="Loading..."}){return t(Ze,{active:!0,inverted:r,children:t(pe,{content:e})})}var Dt=y(function({activityId:e}){const{commentStore:i}=A();return b.exports.useEffect(()=>(e&&i.createHubConnection(e),()=>{i.clearComments()}),[i,e]),a(T,{children:[t(p,{textAlign:"center",attached:"top",inverted:!0,color:"teal",style:{border:"none"},children:t(g,{size:"small",children:"Comments"})}),a(p,{attached:!0,clearing:!0,children:[t(_,{onSubmit:(o,{resetForm:n})=>i.addComment(o).then(()=>n()),initialValues:{body:""},validationSchema:Z({body:M().required()}),children:({isSubmitting:o,isValid:n,handleSubmit:s})=>t(Q,{className:"ui form",children:t(Qe,{name:"body",children:c=>a("div",{style:{position:"relative"},children:[t(pe,{active:o}),t("textarea",J(S({placeholder:"Press Enter to send",rows:2},c.field),{onKeyPress:f=>{f.key==="Enter"&&f.shiftKey||f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),n&&s())}}))]})})})}),t(B.Group,{children:i.comments.map(o=>a(B,{children:[t(B.Avatar,{src:o.image||"/assets/user.png"}),a(B.Content,{children:[t(B.Author,{as:F,to:`/profile/${o.username}`,children:o.displayName}),t(B.Metadata,{children:t("div",{children:Xe(o.createdAt)})}),t(B.Text,{style:{whiteSpace:"pre-wrap"},children:o.body})]})]},o.id))})]})]})});const Tt={filter:"brightness(30%)"},Nt={position:"absolute",bottom:"5%",left:"5%",width:"100%",height:"auto",color:"white"};var Et=y(function({activity:e}){var s,c;const{activityStore:{updateAttendence:i,loading:o,cancelActivityToggle:n}}=A();return a(p.Group,{children:[a(p,{basic:!0,attached:"top",style:{padding:"0"},children:[e.isCancelled&&t($,{style:{position:"absolute",zIndex:1e3,left:-14,top:20},ribbon:!0,color:"red",content:"Cancelled"}),t(H,{src:`/assets/categoryImages/${e.category}.jpg`,fluid:!0,style:Tt}),t(p,{style:Nt,basic:!0,children:t(C.Group,{children:t(C,{children:a(C.Content,{children:[t(g,{size:"huge",content:e.title,style:{color:"white"}}),t("p",{children:U(e.date,"dd / MMMM / yyyy")}),a("p",{children:["Hosted by",t("strong",{children:t(F,{to:`/profile/${(s=e.host)==null?void 0:s.username}`,children:" "+((c=e.host)==null?void 0:c.displayName)})})]})]})})})})]}),t(p,{clearing:!0,attached:"bottom",children:e.isHost?a(T,{children:[t(u,{color:e.isCancelled?"green":"red",floated:"left",content:e.isCancelled?"Re-activate Activity":"Cancel Activity",onClick:n,loading:o}),t(u,{as:F,to:`/manage/${e.id}`,color:"yellow",Ffloated:"right",disabled:e.isCancelled,children:"Manage Event"})]}):e.isGoing?t(u,{loading:o,onClick:i,children:"Cancel attendance"}):t(u,{disabled:e.isCancelled,loading:o,onClick:i,color:"teal",children:"Join Activity"})})]})}),Rt=y(function({activity:e}){return a(p.Group,{children:[t(p,{attached:"top",children:a(d,{children:[t(d.Column,{width:1,children:t(R,{size:"large",color:"teal",name:"info"})}),t(d.Column,{width:15,children:t("p",{children:e.description})})]})}),t(p,{attached:!0,children:a(d,{verticalAlign:"middle",children:[t(d.Column,{width:1,children:t(R,{name:"calendar outline",size:"large",color:"teal"})}),t(d.Column,{width:15,children:t("span",{children:U(e.date," dd / MMM / yyyy ")})})]})}),t(p,{attached:!0,children:a(d,{verticalAlign:"middle",children:[t(d.Column,{width:1,children:t(R,{name:"clock outline",size:"large",color:"teal"})}),t(d.Column,{width:15,children:t("span",{children:U(e.date,"h:mm aa")})})]})}),t(p,{attached:!0,children:a(d,{verticalAlign:"middle",children:[t(d.Column,{width:1,children:t(R,{name:"map marker alternate",size:"large",color:"teal"})}),t(d.Column,{width:11,children:a("span",{children:[e.venue,", ",e.city]})})]})})]})}),zt=y(function({activity:{attendees:e,host:i}}){return e?a(T,{children:[a(p,{textAlign:"center",style:{border:"none"},attached:"top",secondary:!0,inverted:!0,color:"teal",children:[e.length," ",e.length===1?"Person":"People"," going"]}),t(p,{attached:!0,children:t(he,{relaxed:!0,divided:!0,children:e.map(o=>t(V,{hoverable:!0,position:"left center",trigger:a(C,{style:{position:"relative"},children:[o.username===(i==null?void 0:i.username)&&t($,{style:{position:"absolute"},color:"yellow",ribbon:"right",children:"Host"}),t(H,{size:"tiny",src:o.image||"/assets/user.png"}),a(C.Content,{verticalAlign:"middle",children:[t(C.Header,{as:"h3",children:t(F,{to:`/profile/${o.username}`,children:o.displayName})}),o.following&&t(C.Extra,{style:{color:"orange"},children:"Following"})]})]},o.username),children:t(V.Content,{children:t(ye,{profile:o})})},o.username))})})]}):null}),$t=y(function(){const{activityStore:e}=A(),{selectedActivity:i,loadActivity:o,loadingInitial:n,clearSelectedActivity:s}=e,{id:c}=fe();return b.exports.useEffect(()=>(c&&o(c),()=>s()),[c,o,s]),n||!i?t(ve,{}):a(d,{children:[a(d.Column,{width:10,children:[t(Et,{activity:i}),t(Rt,{activity:i}),t(Dt,{activityId:i.id})]}),t(d.Column,{width:6,children:t(zt,{activity:i})})]})});function Ht(){const r="http:/api",[e,i]=b.exports.useState(null);function o(){k.get(r+"buggy/not-found").catch(w=>console.log(w.response))}function n(){k.get(r+"buggy/bad-request").catch(w=>console.log(w.response))}function s(){k.get(r+"buggy/server-error").catch(w=>console.log(w.response))}function c(){k.get(r+"buggy/unauthorised").catch(w=>console.log(w.response))}function f(){k.get(r+"activities/notaguid").catch(w=>console.log(w))}function h(){k.post(r+"activities",{}).catch(w=>i(w))}return a(T,{children:[t(g,{as:"h1",content:"Test Error component"}),t(p,{children:a(u.Group,{widths:"7",children:[t(u,{onClick:o,content:"Not Found",basic:!0,primary:!0}),t(u,{onClick:n,content:"Bad Request",basic:!0,primary:!0}),t(u,{onClick:h,content:"Validation Error",basic:!0,primary:!0}),t(u,{onClick:s,content:"Server Error",basic:!0,primary:!0}),t(u,{onClick:c,content:"Unauthorised",basic:!0,primary:!0}),t(u,{onClick:f,content:"Bad Guid",basic:!0,primary:!0})]})}),e&&t(ze,{errors:e})]})}function Gt(){return a(p,{placeholder:!0,children:[a(g,{icon:!0,children:[t(R,{name:"search"}),"Oops - we've looked everywhere and could not find this.."]}),t(p.Inline,{children:t(u,{as:F,to:"/activities",color:"teal",children:"Return to the activities page"})})]})}var Ut=y(function(){var i,o;const{commonStore:e}=A();return a(oe,{children:[t(g,{as:"h1",content:"Server Error"}),t(g,{sub:!0,as:"h5",color:"red",content:(i=e.error)==null?void 0:i.message}),((o=e.error)==null?void 0:o.details)&&a(p,{children:[t(g,{as:"h4",content:"Stack Trace",color:"teal"}),t("code",{style:{marginTop:"10px"},children:e.error.details})]})]})}),qt=y(function(){const{modalStore:e}=A();return t(Pe,{open:e.modal.open,onClose:e.closeModal,size:"mini",children:t(Pe.Content,{children:e.modal.body})})}),Bt=y(function({setEditMode:e}){const{profileStore:{profile:i,updateProfile:o}}=A();return t(_,{initialValues:{displayName:i==null?void 0:i.displayName,bio:i==null?void 0:i.bio},onSubmit:n=>{o(n).then(()=>{e(!1)})},validationSchema:Z({displayName:M().required()}),children:({isSubmitting:n,isValid:s,dirty:c})=>a(Q,{className:"ui form",children:[t(z,{placeholder:"Display Name",name:"displayName"}),t(Ge,{rows:3,placeholder:"Add your bio",name:"bio"}),t(u,{positive:!0,type:"submit",loading:n,content:"Update profile",floated:"right",disabled:!s||!c})]})})}),Ot=y(function(){const{profileStore:e}=A(),{isCurrentUser:i,profile:o}=e,[n,s]=b.exports.useState(!1);return t(W.Pane,{children:a(d,{children:[a(d.Column,{width:"16",children:[t(g,{floated:"left",icon:"user circle",content:`About ${o==null?void 0:o.displayName}`}),i&&t(u,{floated:"right",basic:!0,content:n?"Cancel":"Edit Profile",onClick:()=>s(!n)})]}),t(d.Column,{width:"16",children:n?t(Bt,{setEditMode:s}):t("span",{style:{whiteSpace:"pre-wrap"},children:o==null?void 0:o.bio})})]})})});const Le=[{menuItem:"Future Events",pane:{key:"future"}},{menuItem:"Past Events",pane:{key:"past"}},{menuItem:"Hosting",pane:{key:"hosting"}}];var jt=y(function(){const{profileStore:e}=A(),{loadUserActivities:i,profile:o,loadingActivities:n,userActivities:s}=e;b.exports.useEffect(()=>{i(o.username)},[i,o]);const c=(h,w)=>{i(o.username,Le[w.activeIndex].pane.key)};function f(h){if(h)return h.length>20?h.substring(0,13)+"...":h}return t(W.Pane,{children:a(d,{children:[t(d.Column,{width:16,children:t(g,{floated:"left",icon:"outline calendar",content:"Activities"})}),a(d.Column,{width:16,children:[t(W,{panes:Le,menu:{secondary:!0,pointing:!0},onTabChange:(h,w)=>c(h,w)}),t("br",{}),t(D.Group,{itemsPerRow:4,children:s.map(h=>a(D,{as:F,to:`/activities/${h.id}`,children:[t(H,{src:`/assets/categoryImages/${h.category}.jpg`,style:{minHeight:150,objectFit:"cover"}}),a(D.Content,{children:[t(D.Header,{textAlign:"center",style:{fontSize:"1.2em",marginBottom:"1vh"},children:f(h.title)}),a(D.Meta,{textAlign:"center",children:[t("div",{children:U(new Date(h.date),"do LLL")}),t("div",{children:U(new Date(h.date),"h:mm a")})]})]})]},h.id))})]})]})})}),De=y(function(){const{profileStore:e}=A(),{profile:i,followings:o,loadingFollowings:n,activeTab:s}=e;return t(W.Pane,{loading:n,children:a(d,{children:[t(d.Column,{width:16,children:t(g,{floated:"left",icon:"users",content:s===3?`People following ${i==null?void 0:i.displayName}`:`People ${i==null?void 0:i.displayName} is following`})}),t(d.Column,{width:16,children:t(D.Group,{itemsPerRow:4,children:o.map(c=>t(ye,{profile:c},c.username))})})]})})});function Vt({imagePreview:r,setCropper:e}){return t(et,{src:r,style:{height:200,width:"100%"},initialAspectRatio:1,aspectRatio:1,preview:".img-preview",guides:!1,viewMode:1,autoCropArea:1,background:!1,onInitialized:i=>e(i)})}function Wt({setFiles:r}){const e={border:"dashed 3px #eee",borderColor:"#eee",borderRadius:"5px",paddingTop:"30px",textAlign:"center",height:200},i={borderColor:"green"},o=b.exports.useCallback(f=>{r(f.map(h=>Object.assign(h,{preview:URL.createObjectURL(h)})))},[r]),{getRootProps:n,getInputProps:s,isDragActive:c}=tt({onDrop:o});return a("div",J(S({},n()),{style:c?S(S({},e),i):e,children:[t("input",S({},s())),t(R,{name:"upload",size:"huge"}),t(g,{size:"medium",content:"Drop image here"})]}))}function Kt({loading:r,uploadPhoto:e}){const[i,o]=b.exports.useState([]),[n,s]=b.exports.useState();function c(){n&&n.getCroppedCanvas().toBlob(f=>e(f))}return b.exports.useEffect(()=>()=>{i.forEach(f=>URL.revokeObjectURL(f.preview))},[i]),a(d,{children:[a(d.Column,{width:4,children:[t(g,{color:"teal",content:"Step 1 - Add Photo",size:"small"}),t(Wt,{setFiles:o})]}),t(d.Column,{width:1}),a(d.Column,{width:4,children:[t(g,{color:"teal",content:"Step 2 - Resize image",size:"small"}),i&&i.length>0&&t(Vt,{setCropper:s,imagePreview:i[0].preview})]}),t(d.Column,{width:1}),a(d.Column,{width:4,children:[t(g,{color:"teal",content:"Step 3 - Preview & Upload",size:"small"}),i&&i.length>0&&a(T,{children:[t("div",{className:"img-preview",style:{minHeight:200,overflow:"hidden"}}),a(u.Group,{widths:2,children:[t(u,{loading:r,onClick:c,positive:!0,icon:"check"}),t(u,{disabled:r,onClick:()=>o([]),icon:"close"})]})]})]})]})}var Jt=y(function({profile:e}){var we;const{profileStore:{isCurrentUser:i,updloadPhoto:o,uploading:n,setMainPhoto:s,loading:c,deletePhoto:f}}=A(),[h,w]=b.exports.useState(!1),[X,L]=b.exports.useState("");function j(x){o(x).then(()=>w(!1))}function ee(x,q){L(q.currentTarget.name),s(x)}function se(x,q){L(q.currentTarget.name),f(x)}return t(W.Pane,{children:a(d,{children:[a(d.Column,{width:16,children:[t(g,{icon:"image",content:"Photos",floated:"left"}),i&&t(u,{floated:"right",content:h?"Cancel":"Add Photo",color:h?"red":"green",onClick:()=>w(!h)})]}),t(d.Column,{width:16,children:h?t(Kt,{uploadPhoto:j,loading:n}):t(D.Group,{itemsPerRow:5,children:(we=e.photos)==null?void 0:we.map(x=>t(D,{children:t(V,{style:{width:"13vw"},hoverable:!0,position:"bottom center",trigger:t(H,{src:x.url}),children:i&&t(V.Content,{children:a(u.Group,{fluid:!0,widths:2,style:{marginTop:"-1px"},children:[t(u,{color:"green",content:"Main",name:"main"+x.id,disabled:x.isMain,loading:X=="main"+x.id&&c,onClick:q=>ee(x,q)}),t(u,{color:"red",icon:"trash alternate",name:x.id,disabled:x.isMain,loading:X==x.id&&c,onClick:q=>se(x,q)})]})})})},x.id))})})]})})}),Yt=y(function({profile:e}){const{profileStore:i}=A();return t(W,{menu:{fluid:!0,vertical:!0},menuPosition:"right",panes:[{menuItem:"About",render:()=>t(Ot,{})},{menuItem:"Photos",render:()=>t(Jt,{profile:e})},{menuItem:"Events",render:()=>t(jt,{})},{menuItem:"Followers",render:()=>t(De,{})},{menuItem:"Following",render:()=>t(De,{})}],onTabChange:(n,s)=>i.setActiveTab(s.activeIndex)})}),_t=y(function({profile:e}){return t(p,{children:a(d,{children:[t(d.Column,{width:12,children:t(C.Group,{children:a(C,{children:[t(C.Image,{avatar:!0,size:"small",src:e.image||"/assets/user.png"}),a(C.Content,{verticalAlign:"middle",children:[t(g,{as:"h1",content:e.displayName}),t(xe,{style:{width:"10vw"}}),t(g,{as:"h3",content:e.username})]})]})})}),a(d.Column,{style:{marginTop:"2vh"},width:4,children:[a(ue.Group,{size:"tiny",widths:2,children:[t(ue,{label:"Followers",value:e.followersCount}),t(ue,{label:"Following",value:e.followingCount})]}),t(xe,{}),t(Re,{profile:e})]})]})})}),Zt=y(function(){const{username:e}=fe(),{profileStore:i}=A(),{loadProfile:o,loadingProfile:n,profile:s,setActiveTab:c}=i;return b.exports.useEffect(()=>(o(e),()=>{c(0)}),[o,e]),n?t(ve,{content:"Loading profile.."}):t(d,{children:t(d.Column,{width:16,children:s&&a(T,{children:[t(_t,{profile:s}),t(Yt,{profile:s})]})})})});function Qt(i){var o=i,{component:r}=o,e=Ce(o,["component"]);const{userStore:{IsLoggedIn:n}}=A();return t(G,{render:s=>n?t(r,S({},s)):t(it,{to:""})})}function Xt(){const r=Ne(),{commonStore:e,userStore:i}=A();return b.exports.useEffect(()=>{e.token?i.getUser().finally(()=>e.setAppLoaded()):e.setAppLoaded()},[e,i]),e.appLoaded?a(T,{children:[t(rt,{position:"bottom-right",hideProgressBar:!0}),t(qt,{}),t(G,{exact:!0,path:"/",component:It}),t(G,{path:"/(.+)",render:()=>a(T,{children:[t(wt,{}),t(oe,{style:{marginTop:"12vh"},children:a(ot,{children:[t(Qt,{exact:!0,path:"/activities",component:xt}),t(G,{path:"/activities/:id",component:$t}),t(G,{path:["/createActivity","/manage/:id"],component:Lt},r.key),t(G,{path:"/profile/:username",component:Zt}),t(G,{path:"/errors",component:Ht}),t(G,{path:"/server-error",component:Ut}),t(G,{component:Gt})]})})]})})]}):t(ve,{content:"Loading App.."})}var ei=y(Xt);function ti(){const{pathname:r}=Ne();return b.exports.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const O=nt();at.render(t(Ee.Provider,{value:v,children:a(st,{history:O,children:[t(ti,{}),t(ei,{})]})}),document.getElementById("root"));
